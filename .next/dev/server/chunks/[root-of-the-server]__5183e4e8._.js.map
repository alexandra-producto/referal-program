{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/usuario/Referal%20MVP/src/db/supabaseClient.ts"],"sourcesContent":["import { resolve } from \"path\";\nimport dotenv from \"dotenv\";\nimport { createClient } from \"@supabase/supabase-js\";\n\n// Carga .env.local desde la ra√≠z del proyecto\ndotenv.config({ path: resolve(process.cwd(), \".env.local\") });\n\nconst url = process.env.SUPABASE_URL;\nconst key = process.env.SUPABASE_SERVICE_ROLE_KEY;\n\nif (!url || !key) {\n  console.error(\"SUPABASE_URL:\", url);\n  console.error(\"SUPABASE_SERVICE_ROLE_KEY:\", key);\n  throw new Error(\"‚ùå Missing SUPABASE_URL or SUPABASE_SERVICE_ROLE_KEY.\");\n}\n\nexport const supabase = createClient(url, key);\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,8CAA8C;AAC9C,kKAAM,CAAC,MAAM,CAAC;IAAE,MAAM,IAAA,4GAAO,EAAC,QAAQ,GAAG,IAAI;AAAc;AAE3D,MAAM,MAAM,QAAQ,GAAG,CAAC,YAAY;AACpC,MAAM,MAAM,QAAQ,GAAG,CAAC,yBAAyB;AAEjD,IAAI,CAAC,OAAO,CAAC,KAAK;IAChB,QAAQ,KAAK,CAAC,iBAAiB;IAC/B,QAAQ,KAAK,CAAC,8BAA8B;IAC5C,MAAM,IAAI,MAAM;AAClB;AAEO,MAAM,WAAW,IAAA,yNAAY,EAAC,KAAK"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/usuario/Referal%20MVP/src/utils/recommendationTokens.ts"],"sourcesContent":["import crypto from \"crypto\";\nimport { resolve } from \"path\";\nimport dotenv from \"dotenv\";\n\n// Cargar variables de entorno si no est√°n ya cargadas\nif (!process.env.RECOMMENDATION_SECRET) {\n  dotenv.config({ path: resolve(process.cwd(), \".env.local\") });\n}\n\n/**\n * Genera un token √∫nico y seguro para un link de recomendaci√≥n\n * El token contiene informaci√≥n codificada sobre el HCI y el Job\n */\nexport function generateRecommendationToken(\n  hyperconnectorId: string,\n  jobId: string\n): string {\n  // Crear un payload simple\n  const payload = `${hyperconnectorId}:${jobId}:${Date.now()}`;\n  \n  // Generar un hash √∫nico usando SHA256\n  const secret = process.env.RECOMMENDATION_SECRET || \"default-secret\";\n  const hash = crypto\n    .createHash(\"sha256\")\n    .update(payload + secret)\n    .digest(\"hex\");\n  \n  // Tomar los primeros 32 caracteres para un token m√°s corto\n  const token = hash.substring(0, 32);\n  \n  // Codificar el payload en base64url para poder decodificarlo despu√©s\n  const encodedPayload = Buffer.from(payload).toString(\"base64url\");\n  \n  // Combinar: token + payload codificado (separados por punto)\n  return `${token}.${encodedPayload}`;\n}\n\n/**\n * Valida y decodifica un token de recomendaci√≥n\n * Retorna null si el token es inv√°lido\n */\nexport function validateRecommendationToken(\n  token: string\n): { hyperconnectorId: string; jobId: string; timestamp: number } | null {\n  try {\n    const parts = token.split(\".\");\n    if (parts.length !== 2) return null;\n    \n    const [hashPart, encodedPayload] = parts;\n    \n    // Decodificar el payload\n    const payload = Buffer.from(encodedPayload, \"base64url\").toString(\"utf-8\");\n    const [hyperconnectorId, jobId, timestampStr] = payload.split(\":\");\n    \n    if (!hyperconnectorId || !jobId || !timestampStr) return null;\n    \n    // Validar el hash\n    const secret = process.env.RECOMMENDATION_SECRET || \"default-secret\";\n    const expectedHash = crypto\n      .createHash(\"sha256\")\n      .update(payload + secret)\n      .digest(\"hex\")\n      .substring(0, 32);\n    \n    if (hashPart !== expectedHash) {\n      console.warn(\"‚ùå Hash mismatch:\", {\n        received: hashPart,\n        expected: expectedHash.substring(0, 10) + \"...\",\n        secretLength: secret.length,\n        payload: payload.substring(0, 50) + \"...\"\n      });\n      return null;\n    }\n    \n    // Verificar que el token no sea muy viejo (opcional: 30 d√≠as)\n    const timestamp = parseInt(timestampStr, 10);\n    const maxAge = 30 * 24 * 60 * 60 * 1000; // 30 d√≠as en ms\n    if (Date.now() - timestamp > maxAge) return null;\n    \n    return {\n      hyperconnectorId,\n      jobId,\n      timestamp,\n    };\n  } catch (error) {\n    return null;\n  }\n}\n\n/**\n * Normaliza la URL base para asegurar que localhost use http://\n */\nfunction normalizeBaseUrl(url: string): string {\n  if (!url) return \"http://localhost:3000\";\n  \n  // Si es localhost, forzar http://\n  if (url.includes(\"localhost\") || url.includes(\"127.0.0.1\")) {\n    return url.replace(/^https?:\\/\\//, \"http://\");\n  }\n  \n  // Para otras URLs, mantener el protocolo original o usar https:// por defecto\n  if (!url.match(/^https?:\\/\\//)) {\n    return `https://${url}`;\n  }\n  \n  return url;\n}\n\n/**\n * Genera la URL completa de recomendaci√≥n\n */\nexport function generateRecommendationUrl(\n  hyperconnectorId: string,\n  jobId: string,\n  baseUrl: string = process.env.APP_URL || \"http://localhost:3000\"\n): string {\n  const normalizedUrl = normalizeBaseUrl(baseUrl);\n  const token = generateRecommendationToken(hyperconnectorId, jobId);\n  // Asegurar que no haya doble slash\n  const cleanUrl = normalizedUrl.replace(/\\/$/, \"\");\n  return `${cleanUrl}/recommend/${token}`;\n}\n\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;AAEA,sDAAsD;AACtD,IAAI,CAAC,QAAQ,GAAG,CAAC,qBAAqB,EAAE;IACtC,kKAAM,CAAC,MAAM,CAAC;QAAE,MAAM,IAAA,4GAAO,EAAC,QAAQ,GAAG,IAAI;IAAc;AAC7D;AAMO,SAAS,4BACd,gBAAwB,EACxB,KAAa;IAEb,0BAA0B;IAC1B,MAAM,UAAU,GAAG,iBAAiB,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG,IAAI;IAE5D,sCAAsC;IACtC,MAAM,SAAS,QAAQ,GAAG,CAAC,qBAAqB,IAAI;IACpD,MAAM,OAAO,gHAAM,CAChB,UAAU,CAAC,UACX,MAAM,CAAC,UAAU,QACjB,MAAM,CAAC;IAEV,2DAA2D;IAC3D,MAAM,QAAQ,KAAK,SAAS,CAAC,GAAG;IAEhC,qEAAqE;IACrE,MAAM,iBAAiB,OAAO,IAAI,CAAC,SAAS,QAAQ,CAAC;IAErD,6DAA6D;IAC7D,OAAO,GAAG,MAAM,CAAC,EAAE,gBAAgB;AACrC;AAMO,SAAS,4BACd,KAAa;IAEb,IAAI;QACF,MAAM,QAAQ,MAAM,KAAK,CAAC;QAC1B,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO;QAE/B,MAAM,CAAC,UAAU,eAAe,GAAG;QAEnC,yBAAyB;QACzB,MAAM,UAAU,OAAO,IAAI,CAAC,gBAAgB,aAAa,QAAQ,CAAC;QAClE,MAAM,CAAC,kBAAkB,OAAO,aAAa,GAAG,QAAQ,KAAK,CAAC;QAE9D,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,cAAc,OAAO;QAEzD,kBAAkB;QAClB,MAAM,SAAS,QAAQ,GAAG,CAAC,qBAAqB,IAAI;QACpD,MAAM,eAAe,gHAAM,CACxB,UAAU,CAAC,UACX,MAAM,CAAC,UAAU,QACjB,MAAM,CAAC,OACP,SAAS,CAAC,GAAG;QAEhB,IAAI,aAAa,cAAc;YAC7B,QAAQ,IAAI,CAAC,oBAAoB;gBAC/B,UAAU;gBACV,UAAU,aAAa,SAAS,CAAC,GAAG,MAAM;gBAC1C,cAAc,OAAO,MAAM;gBAC3B,SAAS,QAAQ,SAAS,CAAC,GAAG,MAAM;YACtC;YACA,OAAO;QACT;QAEA,8DAA8D;QAC9D,MAAM,YAAY,SAAS,cAAc;QACzC,MAAM,SAAS,KAAK,KAAK,KAAK,KAAK,MAAM,gBAAgB;QACzD,IAAI,KAAK,GAAG,KAAK,YAAY,QAAQ,OAAO;QAE5C,OAAO;YACL;YACA;YACA;QACF;IACF,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF;AAEA;;CAEC,GACD,SAAS,iBAAiB,GAAW;IACnC,IAAI,CAAC,KAAK,OAAO;IAEjB,kCAAkC;IAClC,IAAI,IAAI,QAAQ,CAAC,gBAAgB,IAAI,QAAQ,CAAC,cAAc;QAC1D,OAAO,IAAI,OAAO,CAAC,gBAAgB;IACrC;IAEA,8EAA8E;IAC9E,IAAI,CAAC,IAAI,KAAK,CAAC,iBAAiB;QAC9B,OAAO,CAAC,QAAQ,EAAE,KAAK;IACzB;IAEA,OAAO;AACT;AAKO,SAAS,0BACd,gBAAwB,EACxB,KAAa,EACb,UAAkB,QAAQ,GAAG,CAAC,OAAO,IAAI,uBAAuB;IAEhE,MAAM,gBAAgB,iBAAiB;IACvC,MAAM,QAAQ,4BAA4B,kBAAkB;IAC5D,mCAAmC;IACnC,MAAM,WAAW,cAAc,OAAO,CAAC,OAAO;IAC9C,OAAO,GAAG,SAAS,WAAW,EAAE,OAAO;AACzC"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///Users/usuario/Referal%20MVP/src/domain/recommendationLinks.ts"],"sourcesContent":["import { supabase } from \"../db/supabaseClient\";\nimport { generateRecommendationToken, validateRecommendationToken } from \"../utils/recommendationTokens\";\nimport { resolve } from \"path\";\nimport dotenv from \"dotenv\";\n\n// Asegurar que las variables de entorno est√©n cargadas\nif (!process.env.RECOMMENDATION_SECRET) {\n  dotenv.config({ path: resolve(process.cwd(), \".env.local\") });\n}\n\n/**\n * Crea un registro de link de recomendaci√≥n en la base de datos\n * Esto nos permite trackear qu√© links se han enviado y cu√°ndo\n */\nexport async function createRecommendationLink(\n  hyperconnectorId: string,\n  jobId: string\n) {\n  const token = generateRecommendationToken(hyperconnectorId, jobId);\n  \n  const { data, error } = await supabase\n    .from(\"recommendation_links\")\n    .insert({\n      hyperconnector_id: hyperconnectorId,\n      job_id: jobId,\n      token: token,\n      created_at: new Date().toISOString(),\n      expires_at: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(), // 30 d√≠as\n    })\n    .select()\n    .single();\n\n  if (error) {\n    // Si la tabla no existe, retornamos solo el token (modo fallback)\n    console.warn(\"‚ö†Ô∏è recommendation_links table might not exist:\", error.message);\n    return { token };\n  }\n\n  return data;\n}\n\n/**\n * Valida un token y retorna la informaci√≥n del link\n */\nexport async function validateRecommendationLink(token: string) {\n  // Primero validar el token criptogr√°ficamente\n  const decoded = validateRecommendationToken(token);\n  if (!decoded) return null;\n\n  // Luego verificar en la BD (si la tabla existe)\n  const { data, error } = await supabase\n    .from(\"recommendation_links\")\n    .select(\"*\")\n    .eq(\"token\", token)\n    .single();\n\n  if (error) {\n    // Si la tabla no existe, confiar solo en la validaci√≥n criptogr√°fica\n    console.warn(\"‚ö†Ô∏è recommendation_links table might not exist:\", error.message);\n    return decoded;\n  }\n\n  if (!data) return null;\n\n  // Verificar que no haya expirado\n  if (new Date(data.expires_at) < new Date()) {\n    return null;\n  }\n\n  return {\n    hyperconnectorId: data.hyperconnector_id,\n    jobId: data.job_id,\n    timestamp: decoded.timestamp,\n  };\n}\n\n/**\n * Marca un link como usado (opcional, para analytics)\n */\nexport async function markRecommendationLinkAsUsed(token: string) {\n  const { error } = await supabase\n    .from(\"recommendation_links\")\n    .update({ used_at: new Date().toISOString() })\n    .eq(\"token\", token);\n\n  if (error) {\n    console.warn(\"‚ö†Ô∏è Could not mark link as used:\", error.message);\n  }\n}\n\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA,uDAAuD;AACvD,IAAI,CAAC,QAAQ,GAAG,CAAC,qBAAqB,EAAE;IACtC,kKAAM,CAAC,MAAM,CAAC;QAAE,MAAM,IAAA,4GAAO,EAAC,QAAQ,GAAG,IAAI;IAAc;AAC7D;AAMO,eAAe,yBACpB,gBAAwB,EACxB,KAAa;IAEb,MAAM,QAAQ,IAAA,qLAA2B,EAAC,kBAAkB;IAE5D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,yJAAQ,CACnC,IAAI,CAAC,wBACL,MAAM,CAAC;QACN,mBAAmB;QACnB,QAAQ;QACR,OAAO;QACP,YAAY,IAAI,OAAO,WAAW;QAClC,YAAY,IAAI,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,WAAW;IACzE,GACC,MAAM,GACN,MAAM;IAET,IAAI,OAAO;QACT,kEAAkE;QAClE,QAAQ,IAAI,CAAC,kDAAkD,MAAM,OAAO;QAC5E,OAAO;YAAE;QAAM;IACjB;IAEA,OAAO;AACT;AAKO,eAAe,2BAA2B,KAAa;IAC5D,8CAA8C;IAC9C,MAAM,UAAU,IAAA,qLAA2B,EAAC;IAC5C,IAAI,CAAC,SAAS,OAAO;IAErB,gDAAgD;IAChD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,yJAAQ,CACnC,IAAI,CAAC,wBACL,MAAM,CAAC,KACP,EAAE,CAAC,SAAS,OACZ,MAAM;IAET,IAAI,OAAO;QACT,qEAAqE;QACrE,QAAQ,IAAI,CAAC,kDAAkD,MAAM,OAAO;QAC5E,OAAO;IACT;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,iCAAiC;IACjC,IAAI,IAAI,KAAK,KAAK,UAAU,IAAI,IAAI,QAAQ;QAC1C,OAAO;IACT;IAEA,OAAO;QACL,kBAAkB,KAAK,iBAAiB;QACxC,OAAO,KAAK,MAAM;QAClB,WAAW,QAAQ,SAAS;IAC9B;AACF;AAKO,eAAe,6BAA6B,KAAa;IAC9D,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,yJAAQ,CAC7B,IAAI,CAAC,wBACL,MAAM,CAAC;QAAE,SAAS,IAAI,OAAO,WAAW;IAAG,GAC3C,EAAE,CAAC,SAAS;IAEf,IAAI,OAAO;QACT,QAAQ,IAAI,CAAC,mCAAmC,MAAM,OAAO;IAC/D;AACF"}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///Users/usuario/Referal%20MVP/app/api/hyperconnector/%5Btoken%5D/jobs/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { resolve } from \"path\";\nimport dotenv from \"dotenv\";\nimport { validateRecommendationLink } from \"../../../../../src/domain/recommendationLinks\";\nimport { supabase } from \"../../../../../src/db/supabaseClient\";\n\n// Asegurar que las variables de entorno est√©n cargadas\nif (!process.env.RECOMMENDATION_SECRET) {\n  dotenv.config({ path: resolve(process.cwd(), \".env.local\") });\n}\n\n/**\n * GET /api/hyperconnector/[token]/jobs\n * Obtiene los jobs donde el hyperconnector tiene candidatos elegibles\n * \n * L√≥gica: Solo mostrar jobs donde:\n * - El hyperconnector tiene candidatos relacionados (hyperconnector_candidates)\n * - Y esos candidatos tienen matches con el job (job_candidate_matches)\n */\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ token: string }> }\n) {\n  try {\n    const { token } = await params;\n\n    console.log(\"üîç Validando token para jobs hub:\", token.substring(0, 30) + \"...\");\n\n    // Validar el token\n    const linkData = await validateRecommendationLink(token);\n    if (!linkData) {\n      console.error(\"‚ùå Token inv√°lido o expirado\");\n      return NextResponse.json(\n        { error: \"Token inv√°lido o expirado\" },\n        { status: 401 }\n      );\n    }\n\n    const hyperconnectorId = linkData.hyperconnectorId || (linkData as any).hyperconnector_id;\n    \n    if (!hyperconnectorId) {\n      return NextResponse.json(\n        { error: \"Token inv√°lido: faltan datos\" },\n        { status: 401 }\n      );\n    }\n\n    console.log(\"‚úÖ Token v√°lido - HCI:\", hyperconnectorId);\n\n    // Obtener candidatos relacionados con el hyperconnector\n    const { data: hyperconnectorCandidates, error: hciCandidatesError } = await supabase\n      .from(\"hyperconnector_candidates\")\n      .select(\"candidate_id\")\n      .eq(\"hyperconnector_id\", hyperconnectorId);\n\n    if (hciCandidatesError) {\n      console.error(\"‚ùå Error obteniendo candidatos del hyperconnector:\", hciCandidatesError);\n      return NextResponse.json(\n        { error: \"Error al obtener candidatos\" },\n        { status: 500 }\n      );\n    }\n\n    if (!hyperconnectorCandidates || hyperconnectorCandidates.length === 0) {\n      console.log(\"‚ö†Ô∏è Hyperconnector no tiene candidatos relacionados\");\n      return NextResponse.json({\n        jobs: [],\n        message: \"No hay candidatos relacionados con este hyperconnector\",\n      });\n    }\n\n    const candidateIds = hyperconnectorCandidates.map((hc: any) => hc.candidate_id);\n\n    // Obtener jobs que tienen matches con estos candidatos\n    const { data: jobMatches, error: matchesError } = await supabase\n      .from(\"job_candidate_matches\")\n      .select(\"job_id\")\n      .in(\"candidate_id\", candidateIds);\n\n    if (matchesError) {\n      console.error(\"‚ùå Error obteniendo matches:\", matchesError);\n      return NextResponse.json(\n        { error: \"Error al obtener matches\" },\n        { status: 500 }\n      );\n    }\n\n    if (!jobMatches || jobMatches.length === 0) {\n      console.log(\"‚ö†Ô∏è No hay jobs con matches para estos candidatos\");\n      return NextResponse.json({\n        jobs: [],\n        message: \"No hay jobs disponibles con candidatos elegibles\",\n      });\n    }\n\n    // Obtener job IDs √∫nicos\n    const jobIds = [...new Set(jobMatches.map((jm: any) => jm.job_id))];\n\n    // Obtener informaci√≥n completa de los jobs\n    const { data: jobs, error: jobsError } = await supabase\n      .from(\"jobs\")\n      .select(\"*\")\n      .in(\"id\", jobIds);\n\n    if (jobsError) {\n      console.error(\"‚ùå Error obteniendo jobs:\", jobsError);\n      return NextResponse.json(\n        { error: \"Error al obtener jobs\" },\n        { status: 500 }\n      );\n    }\n\n    // Para cada job, obtener el n√∫mero de candidatos elegibles, el mejor match score y el owner candidate\n    const jobsWithDetails = await Promise.all(\n      (jobs || []).map(async (job: any) => {\n        // Obtener matches para este job con los candidatos del hyperconnector\n        const { data: jobMatchesForJob } = await supabase\n          .from(\"job_candidate_matches\")\n          .select(\"candidate_id, match_score\")\n          .eq(\"job_id\", job.id)\n          .in(\"candidate_id\", candidateIds);\n\n        const eligibleCandidatesCount = jobMatchesForJob?.length || 0;\n        const bestMatchScore = jobMatchesForJob && jobMatchesForJob.length > 0\n          ? Math.max(...jobMatchesForJob.map((m: any) => m.match_score))\n          : null;\n\n        // Obtener informaci√≥n del owner candidate\n        let ownerCandidate = null;\n        if (job.owner_candidate_id) {\n          const { data: ownerData, error: ownerError } = await supabase\n            .from(\"candidates\")\n            .select(\"id, full_name, current_company, email\")\n            .eq(\"id\", job.owner_candidate_id)\n            .maybeSingle();\n          \n          if (!ownerError && ownerData) {\n            ownerCandidate = ownerData;\n          }\n        }\n\n        return {\n          ...job,\n          eligibleCandidatesCount,\n          bestMatchScore,\n          ownerCandidate,\n        };\n      })\n    );\n\n    // Ordenar por mejor match score (descendente)\n    jobsWithDetails.sort((a, b) => {\n      const scoreA = a.bestMatchScore || 0;\n      const scoreB = b.bestMatchScore || 0;\n      return scoreB - scoreA;\n    });\n\n    console.log(`‚úÖ Encontrados ${jobsWithDetails.length} jobs elegibles`);\n\n    // Obtener informaci√≥n del hyperconnector\n    const { data: hyperconnector, error: hciError } = await supabase\n      .from(\"hyperconnectors\")\n      .select(\"id, full_name\")\n      .eq(\"id\", hyperconnectorId)\n      .maybeSingle();\n\n    return NextResponse.json({\n      jobs: jobsWithDetails,\n      hyperconnectorId,\n      hyperconnector: hyperconnector || null,\n    });\n  } catch (error: any) {\n    console.error(\"‚ùå Error en GET /api/hyperconnector/[token]/jobs:\", error);\n    console.error(\"Stack:\", error.stack);\n    return NextResponse.json(\n      {\n        error: \"Error interno del servidor\",\n        details: process.env.NODE_ENV === \"development\" ? error.message : undefined,\n      },\n      { status: 500 }\n    );\n  }\n}\n\n"],"names":[],"mappings":"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"}}]
}